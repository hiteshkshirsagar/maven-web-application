pipeline {
  agent any

  stages {
    stage ('compile') {
      steps {
        sh 'mvn clean compile'
      }
    }

    stage ('test') {
      steps {
        sh 'mvn test'
      }
    }

    stage ('package') {
      steps {
        sh 'mvn clean package'
      }
    }
	
     stage ('deploy') {
      steps {
        sh 'cp -r /root/.jenkins/workspace/weapp_pipeline@2/target/maven-web-application.war /root/apache-tomcat-9.0.91/webapps'
	sh 'ls -la'
      }
    }

     stage ('shell') {
      steps {
        sh 'sh function.sh'
	sh 'ls -l'
      }
    }
  }
}
